# RLS-enabled profile: connects as trim_app_user (non-superuser, RLS enforced)
spring.datasource.url=jdbc:postgresql://localhost:5432/barbershop_db
spring.datasource.username=trim_app_user
spring.datasource.password=trim_app_password

# Schema migrations should be run separately with the owner role
spring.jpa.hibernate.ddl-auto=none

# Ensure Hibernate acquires connections within transaction boundaries
# This is required for SET LOCAL to persist across queries in a request
spring.jpa.properties.hibernate.connection.provider_disables_autocommit=true

# HikariCP must also have autocommit disabled to match the above setting
spring.datasource.hikari.auto-commit=false

